<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Number Guesser</title>
</head>
<body>
    <h1 style="background-color: chocolate;"><center>The Number Guesser</center></h1>
    Enter the number between 0 and 100. You are allowed to attempt at the max of 10 guesses.<br>

    <input type="number" id="guessNumber" placeholder="Enter between 0 and 100">
    <br><br>
    <button id="playButton" onclick="play()">Play</button>
    <p id="writeElement"></p>
    <script>
        var write=document.querySelector("#writeElement");
        //var userInput=document.querySelector("#guessNumber").value; 
        //console.log("User input is ", userInput);
        var counter=0;
        var randomNumber=Math.random()*100; // generate random number
            console.log(`Random number is ${randomNumber}`);//print random number
            var mRandom=randomNumber.toFixed(0);//remove decimal
            console.log(mRandom);

        function play(){  

            //print user input          
            var userInput=document.querySelector("#guessNumber").value; 
            console.log("User input is inside ", userInput);



            var difference=mRandom-userInput;
            console.log("Difference is ", difference); //print the diff between random number and user input

            //check user input and system generated number are matching
            if(difference==0)
            {
                document.createElement("p");
                write.innerHTML="Correct";
                console.log("Correct");
            }
            else if(difference<=1)
            {
                document.createElement("p");
                write.innerHTML="Too High, guess again";
                console.log("Too High, guess again.");
                count();
            }
            else if (difference>=1)
            {
                document.createElement("p");
                write.innerHTML="Too low, guess again";
                console.log("Too low, guess again.");
                count();
            }

            counter++;  
            function count()
            {          
            if(counter==10)
            {
                console.log("Max attempt reached");
                document.createElement("p");
                write.innerHTML+=` You lose. Maximum attempt reached.`;
            }
            else
            {
                console.log("Counter ",counter);
                document.createElement("p");
                write.innerHTML+=` You have ${10-counter} attempts left`;
            }
            }
                        
        }

    </script>
</body>
</html>